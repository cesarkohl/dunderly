{"version":3,"file":"index.js","mappings":"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","sources":["webpack://logging/./index.ts","webpack://logging/./src/CloudWatchClient.ts","webpack://logging/./src/Logging.ts","webpack://logging/../node_modules/@bugsnag/js/node/notifier.js","webpack://logging/../node_modules/@bugsnag/node/dist/bugsnag.js","webpack://logging/../node_modules/byline/lib/byline.js","webpack://logging/../node_modules/end-of-stream/index.js","webpack://logging/../node_modules/error-stack-parser/error-stack-parser.js","webpack://logging/../node_modules/iserror/index.js","webpack://logging/../node_modules/pump/index.js","webpack://logging/../node_modules/stack-generator/stack-generator.js","webpack://logging/../node_modules/stackframe/stackframe.js","webpack://logging/external commonjs \"@aws-sdk/client-cloudwatch-logs\"","webpack://logging/external commonjs \"aws-sdk\"","webpack://logging/external commonjs \"events\"","webpack://logging/external commonjs \"once\"","webpack://logging/external commonjs \"url\"","webpack://logging/external commonjs \"util\"","webpack://logging/external node-commonjs \"domain\"","webpack://logging/external node-commonjs \"fs\"","webpack://logging/external node-commonjs \"http\"","webpack://logging/external node-commonjs \"https\"","webpack://logging/external node-commonjs \"os\"","webpack://logging/external node-commonjs \"path\"","webpack://logging/external node-commonjs \"stream\"","webpack://logging/external node-commonjs \"timers\"","webpack://logging/webpack/bootstrap","webpack://logging/webpack/startup"],"sourcesContent":["import Logging from \"./src/Logging\";\nimport CloudWatchClient from \"./src/CloudWatchClient\";\nimport Output from \"../shared/Output.interface\";\nimport Bugsnag from '@bugsnag/js'\n\n// Bugsnag.start({ apiKey: '6b1e0dac71f299d84e0b0a3fd429c9ce' });\nBugsnag.start({ apiKey: process.env.BUGSNAG_API_KEY });\n\ninterface Event {\n    message: string;\n}\n\nexport const handler = async (event: Event): Promise<Output> => {\n    const log = new Logging(new CloudWatchClient());\n    return log.send(event.message);\n};\n","import LoggingClient from \"./contracts/LoggingClient.interface\";\nimport {AWSError} from \"aws-sdk\";\nimport {\n    CloudWatchLogsClient,\n    CreateLogStreamCommand,\n    DescribeLogStreamsCommand, DescribeLogStreamsCommandOutput,\n    PutLogEventsCommand, PutLogEventsCommandOutput,\n} from \"@aws-sdk/client-cloudwatch-logs\";\nimport {InputLogEvent} from \"aws-sdk/clients/cloudwatchlogs\";\n\nclass CloudWatchClient implements LoggingClient {\n    private readonly AWS: any;\n    private readonly client: CloudWatchLogsClient;\n    private readonly GROUP_NAME = process.env.AWS_LAMBDA_LOG_GROUP_NAME;\n    private readonly STREAM_NAME = process.env.AWS_LAMBDA_LOG_STREAM_NAME;\n\n    constructor() {\n        this.AWS = require('aws-sdk');\n        this.client = new CloudWatchLogsClient({\n            region: process.env.AWS_REGION,\n        });\n        this.setCredentials();\n    }\n\n    private setCredentials(): void {\n        this.AWS.config.getCredentials((error: AWSError) => {\n            if (error) {\n                throw error.stack;\n            }\n        });\n    }\n\n    private async describeLogStreams(): Promise<DescribeLogStreamsCommandOutput|void> {\n        try {\n            return await this.client.send(\n                new DescribeLogStreamsCommand({\n                    logGroupName: this.GROUP_NAME,\n                }),\n            );\n        } catch (error: unknown) {\n            throw error;\n        }\n    }\n\n    private async createLogStream(): Promise<boolean|void> {\n        try {\n            await this.client.send(\n                new CreateLogStreamCommand({\n                    logGroupName: this.GROUP_NAME,\n                    logStreamName: this.STREAM_NAME,\n                }),\n            );\n\n            return;\n        } catch (error: unknown) {\n            throw error;\n        }\n    }\n\n    private async setLogStream(): Promise<boolean|void> {\n        const currentLogStreams = await this.describeLogStreams();\n        const defaultLogStreamExists = currentLogStreams?.logStreams?.filter(\n                logStream => logStream.logStreamName === this.STREAM_NAME\n            ).length;\n\n        return !defaultLogStreamExists\n            ? await this.createLogStream()\n            : Promise.resolve(true);\n    }\n\n    private async putLogEvents(events: InputLogEvent[]): Promise<PutLogEventsCommandOutput|void> {\n        try {\n            return await this.client.send(\n                new PutLogEventsCommand({\n                    logGroupName: this.GROUP_NAME,\n                    logStreamName: this.STREAM_NAME,\n                    logEvents: events,\n                }),\n            );\n        } catch (error: unknown) {\n            throw error;\n        }\n    }\n\n    public async send(events: InputLogEvent[]): Promise<boolean> {\n        if (events.length === 0) {\n            return Promise.resolve(false);\n        }\n\n        await this.setLogStream();\n        await this.putLogEvents(events);\n\n        return Promise.resolve(true);\n    }\n}\n\nexport default CloudWatchClient;","import Output from \"../../shared/Output.interface\";\nimport LoggingClient from \"./contracts/LoggingClient.interface\";\n\nclass Logging {\n    private readonly client: LoggingClient;\n\n    constructor(client: LoggingClient) {\n        this.client = client;\n    }\n\n    private output(): Output {\n        return {\n            statusCode: 200,\n            body: JSON.stringify({\n                message: 'Message logged successfully.',\n            }),\n        }\n    }\n\n    public async send(message: string): Promise<Output> {\n        await this.client.send([{\n            timestamp: Date.now(),\n            message: message,\n        }]);\n\n        return this.output();\n    }\n}\n\nexport default Logging;","module.exports = require('@bugsnag/node')\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bugsnag = f()}})(function(){var define,module,exports;\nvar Breadcrumb = /*#__PURE__*/function () {\n  function Breadcrumb(message, metadata, type, timestamp) {\n    if (timestamp === void 0) {\n      timestamp = new Date();\n    }\n\n    this.type = type;\n    this.message = message;\n    this.metadata = metadata;\n    this.timestamp = timestamp;\n  }\n\n  var _proto = Breadcrumb.prototype;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      type: this.type,\n      name: this.message,\n      timestamp: this.timestamp,\n      metaData: this.metadata\n    };\n  };\n\n  return Breadcrumb;\n}();\n\nvar _$Breadcrumb_1 = Breadcrumb;\n\nvar _$breadcrumbTypes_6 = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual'];\n\n// Array#reduce\nvar _$reduce_16 = function (arr, fn, accum) {\n  var val = accum;\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    val = fn(val, arr[i], i, arr);\n  }\n\n  return val;\n};\n\n/* removed: var _$reduce_16 = require('./reduce'); */; // Array#filter\n\n\nvar _$filter_11 = function (arr, fn) {\n  return _$reduce_16(arr, function (accum, item, i, arr) {\n    return !fn(item, i, arr) ? accum : accum.concat(item);\n  }, []);\n};\n\n/* removed: var _$reduce_16 = require('./reduce'); */; // Array#includes\n\n\nvar _$includes_12 = function (arr, x) {\n  return _$reduce_16(arr, function (accum, item, i, arr) {\n    return accum === true || item === x;\n  }, false);\n};\n\n// Array#isArray\nvar _$isArray_13 = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\n/* eslint-disable-next-line no-prototype-builtins */\nvar _hasDontEnumBug = !{\n  toString: null\n}.propertyIsEnumerable('toString');\n\nvar _dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor']; // Object#keys\n\nvar _$keys_14 = function (obj) {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  var result = [];\n  var prop;\n\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop);\n  }\n\n  if (!_hasDontEnumBug) return result;\n\n  for (var i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i]);\n  }\n\n  return result;\n};\n\nvar _$intRange_25 = function (min, max) {\n  if (min === void 0) {\n    min = 1;\n  }\n\n  if (max === void 0) {\n    max = Infinity;\n  }\n\n  return function (value) {\n    return typeof value === 'number' && parseInt('' + value, 10) === value && value >= min && value <= max;\n  };\n};\n\n/* removed: var _$filter_11 = require('../es-utils/filter'); */;\n\n/* removed: var _$isArray_13 = require('../es-utils/is-array'); */;\n\nvar _$listOfFunctions_26 = function (value) {\n  return typeof value === 'function' || _$isArray_13(value) && _$filter_11(value, function (f) {\n    return typeof f === 'function';\n  }).length === value.length;\n};\n\nvar _$stringWithLength_27 = function (value) {\n  return typeof value === 'string' && !!value.length;\n};\n\nvar _$config_3 = {};\n/* removed: var _$filter_11 = require('./lib/es-utils/filter'); */;\n\n/* removed: var _$reduce_16 = require('./lib/es-utils/reduce'); */;\n\n/* removed: var _$keys_14 = require('./lib/es-utils/keys'); */;\n\n/* removed: var _$isArray_13 = require('./lib/es-utils/is-array'); */;\n\n/* removed: var _$includes_12 = require('./lib/es-utils/includes'); */;\n\n/* removed: var _$intRange_25 = require('./lib/validators/int-range'); */;\n\n/* removed: var _$stringWithLength_27 = require('./lib/validators/string-with-length'); */;\n\n/* removed: var _$listOfFunctions_26 = require('./lib/validators/list-of-functions'); */;\n\n/* removed: var _$breadcrumbTypes_6 = require('./lib/breadcrumb-types'); */;\n\nvar defaultErrorTypes = function () {\n  return {\n    unhandledExceptions: true,\n    unhandledRejections: true\n  };\n};\n\n_$config_3.schema = {\n  apiKey: {\n    defaultValue: function () {\n      return null;\n    },\n    message: 'is required',\n    validate: _$stringWithLength_27\n  },\n  appVersion: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || _$stringWithLength_27(value);\n    }\n  },\n  appType: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || _$stringWithLength_27(value);\n    }\n  },\n  autoDetectErrors: {\n    defaultValue: function () {\n      return true;\n    },\n    message: 'should be true|false',\n    validate: function (value) {\n      return value === true || value === false;\n    }\n  },\n  enabledErrorTypes: {\n    defaultValue: function () {\n      return defaultErrorTypes();\n    },\n    message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n    allowPartialObject: true,\n    validate: function (value) {\n      // ensure we have an object\n      if (typeof value !== 'object' || !value) return false;\n      var providedKeys = _$keys_14(value);\n      var defaultKeys = _$keys_14(defaultErrorTypes()); // ensure it only has a subset of the allowed keys\n\n      if (_$filter_11(providedKeys, function (k) {\n        return _$includes_12(defaultKeys, k);\n      }).length < providedKeys.length) return false; // ensure all of the values are boolean\n\n      if (_$filter_11(_$keys_14(value), function (k) {\n        return typeof value[k] !== 'boolean';\n      }).length > 0) return false;\n      return true;\n    }\n  },\n  onError: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_26\n  },\n  onSession: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_26\n  },\n  onBreadcrumb: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_26\n  },\n  endpoints: {\n    defaultValue: function () {\n      return {\n        notify: 'https://notify.bugsnag.com',\n        sessions: 'https://sessions.bugsnag.com'\n      };\n    },\n    message: 'should be an object containing endpoint URLs { notify, sessions }',\n    validate: function (val) {\n      return (// first, ensure it's an object\n        val && typeof val === 'object' && // notify and sessions must always be set\n        _$stringWithLength_27(val.notify) && _$stringWithLength_27(val.sessions) && // ensure no keys other than notify/session are set on endpoints object\n        _$filter_11(_$keys_14(val), function (k) {\n          return !_$includes_12(['notify', 'sessions'], k);\n        }).length === 0\n      );\n    }\n  },\n  autoTrackSessions: {\n    defaultValue: function (val) {\n      return true;\n    },\n    message: 'should be true|false',\n    validate: function (val) {\n      return val === true || val === false;\n    }\n  },\n  enabledReleaseStages: {\n    defaultValue: function () {\n      return null;\n    },\n    message: 'should be an array of strings',\n    validate: function (value) {\n      return value === null || _$isArray_13(value) && _$filter_11(value, function (f) {\n        return typeof f === 'string';\n      }).length === value.length;\n    }\n  },\n  releaseStage: {\n    defaultValue: function () {\n      return 'production';\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return typeof value === 'string' && value.length;\n    }\n  },\n  maxBreadcrumbs: {\n    defaultValue: function () {\n      return 25;\n    },\n    message: 'should be a number 100',\n    validate: function (value) {\n      return _$intRange_25(0, 100)(value);\n    }\n  },\n  enabledBreadcrumbTypes: {\n    defaultValue: function () {\n      return _$breadcrumbTypes_6;\n    },\n    message: \"should be null or a list of available breadcrumb types (\" + _$breadcrumbTypes_6.join(',') + \")\",\n    validate: function (value) {\n      return value === null || _$isArray_13(value) && _$reduce_16(value, function (accum, maybeType) {\n        if (accum === false) return accum;\n        return _$includes_12(_$breadcrumbTypes_6, maybeType);\n      }, true);\n    }\n  },\n  context: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || typeof value === 'string';\n    }\n  },\n  user: {\n    defaultValue: function () {\n      return {};\n    },\n    message: 'should be an object with { id, email, name } properties',\n    validate: function (value) {\n      return value === null || value && _$reduce_16(_$keys_14(value), function (accum, key) {\n        return accum && _$includes_12(['id', 'email', 'name'], key);\n      }, true);\n    }\n  },\n  metadata: {\n    defaultValue: function () {\n      return {};\n    },\n    message: 'should be an object',\n    validate: function (value) {\n      return typeof value === 'object' && value !== null;\n    }\n  },\n  logger: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: function (value) {\n      return !value || value && _$reduce_16(['debug', 'info', 'warn', 'error'], function (accum, method) {\n        return accum && typeof value[method] === 'function';\n      }, true);\n    }\n  },\n  redactedKeys: {\n    defaultValue: function () {\n      return ['password'];\n    },\n    message: 'should be an array of strings|regexes',\n    validate: function (value) {\n      return _$isArray_13(value) && value.length === _$filter_11(value, function (s) {\n        return typeof s === 'string' || s && typeof s.test === 'function';\n      }).length;\n    }\n  },\n  plugins: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be an array of plugin objects',\n    validate: function (value) {\n      return _$isArray_13(value) && value.length === _$filter_11(value, function (p) {\n        return p && typeof p === 'object' && typeof p.load === 'function';\n      }).length;\n    }\n  },\n  featureFlags: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be an array of objects that have a \"name\" property',\n    validate: function (value) {\n      return _$isArray_13(value) && value.length === _$filter_11(value, function (feature) {\n        return feature && typeof feature === 'object' && typeof feature.name === 'string';\n      }).length;\n    }\n  }\n};\n\nvar _$errorStackParser_9 = require(\"error-stack-parser\");\n\n// extends helper from babel\n// https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\nvar _$assign_10 = function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/* removed: var _$reduce_16 = require('./reduce'); */; // Array#map\n\n\nvar _$map_15 = function (arr, fn) {\n  return _$reduce_16(arr, function (accum, item, i, arr) {\n    return accum.concat(fn(item, i, arr));\n  }, []);\n};\n\nvar _$safeJsonStringify_31 = function (data, replacer, space, opts) {\n  var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : [];\n  var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : [];\n  return JSON.stringify(prepareObjForSerialization(data, redactedKeys, redactedPaths), replacer, space);\n};\n\nvar MAX_DEPTH = 20;\nvar MAX_EDGES = 25000;\nvar MIN_PRESERVED_DEPTH = 8;\nvar REPLACEMENT_NODE = '...';\n\nfunction isError(o) {\n  return o instanceof Error || /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o));\n}\n\nfunction throwsMessage(err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']';\n}\n\nfunction find(haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true;\n  }\n\n  return false;\n} // returns true if the string `path` starts with any of the provided `paths`\n\n\nfunction isDescendent(paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true;\n  }\n\n  return false;\n}\n\nfunction shouldRedact(patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true;\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true;\n  }\n\n  return false;\n}\n\nfunction __isArray_31(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction safelyGetProp(obj, prop) {\n  try {\n    return obj[prop];\n  } catch (err) {\n    return throwsMessage(err);\n  }\n}\n\nfunction prepareObjForSerialization(obj, redactedKeys, redactedPaths) {\n  var seen = []; // store references to objects we have seen before\n\n  var edges = 0;\n\n  function visit(obj, path) {\n    function edgesExceeded() {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES;\n    }\n\n    edges++;\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE;\n    if (edgesExceeded()) return REPLACEMENT_NODE;\n    if (obj === null || typeof obj !== 'object') return obj;\n    if (find(seen, obj)) return '[Circular]';\n    seen.push(obj);\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--;\n        var fResult = visit(obj.toJSON(), path);\n        seen.pop();\n        return fResult;\n      } catch (err) {\n        return throwsMessage(err);\n      }\n    }\n\n    var er = isError(obj);\n\n    if (er) {\n      edges--;\n      var eResult = visit({\n        name: obj.name,\n        message: obj.message\n      }, path);\n      seen.pop();\n      return eResult;\n    }\n\n    if (__isArray_31(obj)) {\n      var aResult = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE);\n          break;\n        }\n\n        aResult.push(visit(obj[i], path.concat('[]')));\n      }\n\n      seen.pop();\n      return aResult;\n    }\n\n    var result = {};\n\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue;\n\n        if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n          result[prop] = '[REDACTED]';\n          continue;\n        }\n\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE;\n          break;\n        }\n\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop));\n      }\n    } catch (e) {}\n\n    seen.pop();\n    return result;\n  }\n\n  return visit(obj, []);\n}\n\n/* removed: var _$map_15 = require('./es-utils/map'); */;\n\n/* removed: var _$filter_11 = require('./es-utils/filter'); */;\n\n/* removed: var _$isArray_13 = require('./es-utils/is-array'); */;\n\n/* removed: var _$safeJsonStringify_31 = require('@bugsnag/safe-json-stringify'); */;\n\nfunction add(existingFeatures, existingFeatureKeys, name, variant) {\n  if (typeof name !== 'string') {\n    return;\n  }\n\n  if (variant === undefined) {\n    variant = null;\n  } else if (variant !== null && typeof variant !== 'string') {\n    variant = _$safeJsonStringify_31(variant);\n  }\n\n  var existingIndex = existingFeatureKeys[name];\n\n  if (typeof existingIndex === 'number') {\n    existingFeatures[existingIndex] = {\n      name: name,\n      variant: variant\n    };\n    return;\n  }\n\n  existingFeatures.push({\n    name: name,\n    variant: variant\n  });\n  existingFeatureKeys[name] = existingFeatures.length - 1;\n}\n\nfunction merge(existingFeatures, newFeatures, existingFeatureKeys) {\n  if (!_$isArray_13(newFeatures)) {\n    return;\n  }\n\n  for (var i = 0; i < newFeatures.length; ++i) {\n    var feature = newFeatures[i];\n\n    if (feature === null || typeof feature !== 'object') {\n      continue;\n    } // 'add' will handle if 'name' doesn't exist & 'variant' is optional\n\n\n    add(existingFeatures, existingFeatureKeys, feature.name, feature.variant);\n  }\n\n  return existingFeatures;\n} // convert feature flags from a map of 'name -> variant' into the format required\n// by the Bugsnag Event API:\n//   [{ featureFlag: 'name', variant: 'variant' }, { featureFlag: 'name 2' }]\n\n\nfunction toEventApi(featureFlags) {\n  return _$map_15(_$filter_11(featureFlags, Boolean), function (_ref) {\n    var name = _ref.name,\n        variant = _ref.variant;\n    var flag = {\n      featureFlag: name\n    }; // don't add a 'variant' property unless there's actually a value\n\n    if (typeof variant === 'string') {\n      flag.variant = variant;\n    }\n\n    return flag;\n  });\n}\n\nfunction clear(features, featuresIndex, name) {\n  var existingIndex = featuresIndex[name];\n\n  if (typeof existingIndex === 'number') {\n    features[existingIndex] = null;\n    delete featuresIndex[name];\n  }\n}\n\nvar _$featureFlagDelegate_17 = {\n  add: add,\n  clear: clear,\n  merge: merge,\n  toEventApi: toEventApi\n};\n\n// Given `err` which may be an error, does it have a stack property which is a string?\nvar _$hasStack_18 = function (err) {\n  return !!err && (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) && typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' && err.stack !== err.name + \": \" + err.message;\n};\n\nvar _$iserror_19 = require(\"iserror\");\n\n/* removed: var _$assign_10 = require('./es-utils/assign'); */;\n\nvar __add_21 = function (state, section, keyOrObj, maybeVal) {\n  var _updates;\n\n  if (!section) return;\n  var updates; // addMetadata(\"section\", null) -> clears section\n\n  if (keyOrObj === null) return __clear_21(state, section); // normalise the two supported input types into object form\n\n  if (typeof keyOrObj === 'object') updates = keyOrObj;\n  if (typeof keyOrObj === 'string') updates = (_updates = {}, _updates[keyOrObj] = maybeVal, _updates); // exit if we don't have an updates object at this point\n\n  if (!updates) return; // ensure a section with this name exists\n\n  if (!state[section]) state[section] = {}; // merge the updates with the existing section\n\n  state[section] = _$assign_10({}, state[section], updates);\n};\n\nvar get = function (state, section, key) {\n  if (typeof section !== 'string') return undefined;\n\n  if (!key) {\n    return state[section];\n  }\n\n  if (state[section]) {\n    return state[section][key];\n  }\n\n  return undefined;\n};\n\nvar __clear_21 = function (state, section, key) {\n  if (typeof section !== 'string') return; // clear an entire section\n\n  if (!key) {\n    delete state[section];\n    return;\n  } // clear a single value from a section\n\n\n  if (state[section]) {\n    delete state[section][key];\n  }\n};\n\nvar _$metadataDelegate_21 = {\n  add: __add_21,\n  get: get,\n  clear: __clear_21\n};\n\n/* removed: var _$errorStackParser_9 = require('./lib/error-stack-parser'); */;\n\nvar StackGenerator = require(\"stack-generator\");\n\n/* removed: var _$hasStack_18 = require('./lib/has-stack'); */;\n\n/* removed: var _$map_15 = require('./lib/es-utils/map'); */;\n\n/* removed: var _$reduce_16 = require('./lib/es-utils/reduce'); */;\n\n/* removed: var _$filter_11 = require('./lib/es-utils/filter'); */;\n\n/* removed: var _$assign_10 = require('./lib/es-utils/assign'); */;\n\n/* removed: var _$metadataDelegate_21 = require('./lib/metadata-delegate'); */;\n\n/* removed: var _$featureFlagDelegate_17 = require('./lib/feature-flag-delegate'); */;\n\n/* removed: var _$iserror_19 = require('./lib/iserror'); */;\n\nvar Event = /*#__PURE__*/function () {\n  function Event(errorClass, errorMessage, stacktrace, handledState, originalError) {\n    if (stacktrace === void 0) {\n      stacktrace = [];\n    }\n\n    if (handledState === void 0) {\n      handledState = defaultHandledState();\n    }\n\n    this.apiKey = undefined;\n    this.context = undefined;\n    this.groupingHash = undefined;\n    this.originalError = originalError;\n    this._handledState = handledState;\n    this.severity = this._handledState.severity;\n    this.unhandled = this._handledState.unhandled;\n    this.app = {};\n    this.device = {};\n    this.request = {};\n    this.breadcrumbs = [];\n    this.threads = [];\n    this._metadata = {};\n    this._features = [];\n    this._featuresIndex = {};\n    this._user = {};\n    this._session = undefined;\n    this.errors = [createBugsnagError(errorClass, errorMessage, Event.__type, stacktrace)]; // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  var _proto = Event.prototype;\n\n  _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n    return _$metadataDelegate_21.add(this._metadata, section, keyOrObj, maybeVal);\n  };\n\n  _proto.getMetadata = function getMetadata(section, key) {\n    return _$metadataDelegate_21.get(this._metadata, section, key);\n  };\n\n  _proto.clearMetadata = function clearMetadata(section, key) {\n    return _$metadataDelegate_21.clear(this._metadata, section, key);\n  };\n\n  _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n    if (variant === void 0) {\n      variant = null;\n    }\n\n    _$featureFlagDelegate_17.add(this._features, this._featuresIndex, name, variant);\n  };\n\n  _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n    _$featureFlagDelegate_17.merge(this._features, featureFlags, this._featuresIndex);\n  };\n\n  _proto.getFeatureFlags = function getFeatureFlags() {\n    return _$featureFlagDelegate_17.toEventApi(this._features);\n  };\n\n  _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n    _$featureFlagDelegate_17.clear(this._features, this._featuresIndex, name);\n  };\n\n  _proto.clearFeatureFlags = function clearFeatureFlags() {\n    this._features = [];\n    this._featuresIndex = {};\n  };\n\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n\n  _proto.toJSON = function toJSON() {\n    return {\n      payloadVersion: '4',\n      exceptions: _$map_15(this.errors, function (er) {\n        return _$assign_10({}, er, {\n          message: er.errorMessage\n        });\n      }),\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      request: this.request,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      groupingHash: this.groupingHash,\n      metaData: this._metadata,\n      user: this._user,\n      session: this._session,\n      featureFlags: this.getFeatureFlags()\n    };\n  };\n\n  return Event;\n}(); // takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\n\n\nvar formatStackframe = function (frame) {\n  var f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }; // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code';\n  }\n\n  return f;\n};\n\nvar normaliseFunctionName = function (name) {\n  return /^global code$/i.test(name) ? 'global code' : name;\n};\n\nvar defaultHandledState = function () {\n  return {\n    unhandled: false,\n    severity: 'warning',\n    severityReason: {\n      type: 'handledException'\n    }\n  };\n};\n\nvar ensureString = function (str) {\n  return typeof str === 'string' ? str : '';\n};\n\nfunction createBugsnagError(errorClass, errorMessage, type, stacktrace) {\n  return {\n    errorClass: ensureString(errorClass),\n    errorMessage: ensureString(errorMessage),\n    type: type,\n    stacktrace: _$reduce_16(stacktrace, function (accum, frame) {\n      var f = formatStackframe(frame); // don't include a stackframe if none of its properties are defined\n\n      try {\n        if (JSON.stringify(f) === '{}') return accum;\n        return accum.concat(f);\n      } catch (e) {\n        return accum;\n      }\n    }, [])\n  };\n}\n\nfunction getCauseStack(error) {\n  if (error.cause) {\n    return [error].concat(getCauseStack(error.cause));\n  } else {\n    return [error];\n  }\n} // Helpers\n\n\nEvent.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n  if (_$hasStack_18(error)) return _$errorStackParser_9.parse(error).slice(errorFramesToSkip); // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n\n  try {\n    return _$filter_11(StackGenerator.backtrace(), function (frame) {\n      return (frame.functionName || '').indexOf('StackGenerator$$') === -1;\n    }).slice(1 + backtraceFramesToSkip);\n  } catch (e) {\n    return [];\n  }\n};\n\nEvent.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip, logger) {\n  if (errorFramesToSkip === void 0) {\n    errorFramesToSkip = 0;\n  }\n\n  var _normaliseError = normaliseError(maybeError, tolerateNonErrors, component, logger),\n      error = _normaliseError[0],\n      internalFrames = _normaliseError[1];\n\n  var event;\n\n  try {\n    var stacktrace = Event.getStacktrace(error, // if an error was created/throw in the normaliseError() function, we need to\n    // tell the getStacktrace() function to skip the number of frames we know will\n    // be from our own functions. This is added to the number of frames deep we\n    // were told about\n    internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0, // if there's no stacktrace, the callstack may be walked to generated one.\n    // this is how many frames should be removed because they come from our library\n    1 + errorFramesToSkip);\n    event = new Event(error.name, error.message, stacktrace, handledState, maybeError);\n  } catch (e) {\n    event = new Event(error.name, error.message, [], handledState, maybeError);\n  }\n\n  if (error.name === 'InvalidError') {\n    event.addMetadata(\"\" + component, 'non-error parameter', makeSerialisable(maybeError));\n  }\n\n  if (error.cause) {\n    var _event$errors;\n\n    var causes = getCauseStack(error).slice(1);\n    var normalisedCauses = _$map_15(causes, function (cause) {\n      // Only get stacktrace for error causes that are a valid JS Error and already have a stack\n      var stacktrace = _$iserror_19(cause) && _$hasStack_18(cause) ? _$errorStackParser_9.parse(cause) : [];\n\n      var _normaliseError2 = normaliseError(cause, true, 'error cause'),\n          error = _normaliseError2[0];\n\n      if (error.name === 'InvalidError') event.addMetadata('error cause', makeSerialisable(cause));\n      return createBugsnagError(error.name, error.message, Event.__type, stacktrace);\n    });\n\n    (_event$errors = event.errors).push.apply(_event$errors, normalisedCauses);\n  }\n\n  return event;\n};\n\nvar makeSerialisable = function (err) {\n  if (err === null) return 'null';\n  if (err === undefined) return 'undefined';\n  return err;\n};\n\nvar normaliseError = function (maybeError, tolerateNonErrors, component, logger) {\n  var error;\n  var internalFrames = 0;\n\n  var createAndLogInputError = function (reason) {\n    var verb = component === 'error cause' ? 'was' : 'received';\n    if (logger) logger.warn(component + \" \" + verb + \" a non-error: \\\"\" + reason + \"\\\"\");\n    var err = new Error(component + \" \" + verb + \" a non-error. See \\\"\" + component + \"\\\" tab for more detail.\");\n    err.name = 'InvalidError';\n    return err;\n  }; // In some cases:\n  //\n  //  - the promise rejection handler (both in the browser and node)\n  //  - the node uncaughtException handler\n  //\n  // We are really limited in what we can do to get a stacktrace. So we use the\n  // tolerateNonErrors option to ensure that the resulting error communicates as\n  // such.\n\n\n  if (!tolerateNonErrors) {\n    if (_$iserror_19(maybeError)) {\n      error = maybeError;\n    } else {\n      error = createAndLogInputError(typeof maybeError);\n      internalFrames += 2;\n    }\n  } else {\n    switch (typeof maybeError) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        error = new Error(String(maybeError));\n        internalFrames += 1;\n        break;\n\n      case 'function':\n        error = createAndLogInputError('function');\n        internalFrames += 2;\n        break;\n\n      case 'object':\n        if (maybeError !== null && _$iserror_19(maybeError)) {\n          error = maybeError;\n        } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n          error = new Error(maybeError.message || maybeError.errorMessage);\n          error.name = maybeError.name || maybeError.errorClass;\n          internalFrames += 1;\n        } else {\n          error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object');\n          internalFrames += 2;\n        }\n\n        break;\n\n      default:\n        error = createAndLogInputError('nothing');\n        internalFrames += 2;\n    }\n  }\n\n  if (!_$hasStack_18(error)) {\n    // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n    try {\n      throw error;\n    } catch (e) {\n      if (_$hasStack_18(e)) {\n        error = e; // if the error only got a stacktrace after we threw it here, we know it\n        // will only have one extra internal frame from this function, regardless\n        // of whether it went through createAndLogInputError() or not\n\n        internalFrames = 1;\n      }\n    }\n  }\n\n  return [error, internalFrames];\n}; // default value for stacktrace.type\n\n\nEvent.__type = 'browserjs';\n\nvar hasNecessaryFields = function (error) {\n  return (typeof error.name === 'string' || typeof error.errorClass === 'string') && (typeof error.message === 'string' || typeof error.errorMessage === 'string');\n};\n\nvar _$Event_4 = Event;\n\n// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n// with the logic flipped so that it is akin to the\n// synchronous \"every\" method instead of \"some\".\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, false)\n//   - or the end of the array is reached\n// the callback (cb) will be passed (null, false) if any of the items in arr\n// caused fn to call back with false, otherwise it will be passed (null, true)\nvar _$asyncEvery_5 = function (arr, fn, cb) {\n  var index = 0;\n\n  var next = function () {\n    if (index >= arr.length) return cb(null, true);\n    fn(arr[index], function (err, result) {\n      if (err) return cb(err);\n      if (result === false) return cb(null, false);\n      index++;\n      next();\n    });\n  };\n\n  next();\n};\n\n/* removed: var _$asyncEvery_5 = require('./async-every'); */;\n\nvar _$callbackRunner_7 = function (callbacks, event, onCallbackError, cb) {\n  // This function is how we support different kinds of callback:\n  //  - synchronous - return value\n  //  - node-style async with callback - cb(err, value)\n  //  - promise/thenable - resolve(value)\n  // It normalises each of these into the lowest common denominator  a node-style callback\n  var runMaybeAsyncCallback = function (fn, cb) {\n    if (typeof fn !== 'function') return cb(null);\n\n    try {\n      // if function appears sync\n      if (fn.length !== 2) {\n        var ret = fn(event); // check if it returned a \"thenable\" (promise)\n\n        if (ret && typeof ret.then === 'function') {\n          return ret.then( // resolve\n          function (val) {\n            return setTimeout(function () {\n              return cb(null, val);\n            });\n          }, // reject\n          function (err) {\n            setTimeout(function () {\n              onCallbackError(err);\n              return cb(null, true);\n            });\n          });\n        }\n\n        return cb(null, ret);\n      } // if function is async\n\n\n      fn(event, function (err, result) {\n        if (err) {\n          onCallbackError(err);\n          return cb(null);\n        }\n\n        cb(null, result);\n      });\n    } catch (e) {\n      onCallbackError(e);\n      cb(null);\n    }\n  };\n\n  _$asyncEvery_5(callbacks, runMaybeAsyncCallback, cb);\n};\n\nvar _$syncCallbackRunner_24 = function (callbacks, callbackArg, callbackType, logger) {\n  var ignore = false;\n  var cbs = callbacks.slice();\n\n  while (!ignore) {\n    if (!cbs.length) break;\n\n    try {\n      ignore = cbs.pop()(callbackArg) === false;\n    } catch (e) {\n      logger.error(\"Error occurred in \" + callbackType + \" callback, continuing anyway\\u2026\");\n      logger.error(e);\n    }\n  }\n\n  return ignore;\n};\n\nvar _$pad_30 = function pad(num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n\n/* removed: var _$pad_30 = require('./pad.js'); */;\n\nvar os = require(\"os\"),\n    padding = 2,\n    pid = _$pad_30(process.pid.toString(36), padding),\n    hostname = os.hostname(),\n    length = hostname.length,\n    hostId = _$pad_30(hostname.split('').reduce(function (prev, char) {\n  return +prev + char.charCodeAt(0);\n}, +length + 36).toString(36), padding);\n\nvar _$fingerprint_29 = function fingerprint() {\n  return pid + hostId;\n};\n\n/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n/* removed: var _$fingerprint_29 = require('./lib/fingerprint.js'); */;\n\n/* removed: var _$pad_30 = require('./lib/pad.js'); */;\n\nvar c = 0,\n    blockSize = 4,\n    base = 36,\n    discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock() {\n  return _$pad_30((Math.random() * discreteValues << 0).toString(base), blockSize);\n}\n\nfunction safeCounter() {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n\n  return c - 1;\n}\n\nfunction cuid() {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c',\n      // hard-coded allows for sequential access\n  // timestamp\n  // warning: this exposes the exact date and time\n  // that the uid was created.\n  timestamp = new Date().getTime().toString(base),\n      // Prevent same-machine collisions.\n  counter = _$pad_30(safeCounter().toString(base), blockSize),\n      // A few chars to generate distinct ids for different\n  // clients (so different computers are far less\n  // likely to generate the same id)\n  print = _$fingerprint_29(),\n      // Grab some more chars from Math.random()\n  random = randomBlock() + randomBlock();\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = _$fingerprint_29;\nvar _$cuid_28 = cuid;\n\n/* removed: var _$cuid_28 = require('@bugsnag/cuid'); */;\n\nvar Session = /*#__PURE__*/function () {\n  function Session() {\n    this.id = _$cuid_28();\n    this.startedAt = new Date();\n    this._handled = 0;\n    this._unhandled = 0;\n    this._user = {};\n    this.app = {};\n    this.device = {};\n  }\n\n  var _proto = Session.prototype;\n\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n\n  _proto.toJSON = function toJSON() {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: {\n        handled: this._handled,\n        unhandled: this._unhandled\n      }\n    };\n  };\n\n  _proto._track = function _track(event) {\n    this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1;\n  };\n\n  return Session;\n}();\n\nvar _$Session_32 = Session;\n\n/* removed: var _$config_3 = require('./config'); */;\n\n/* removed: var _$Event_4 = require('./event'); */;\n\n/* removed: var _$Breadcrumb_1 = require('./breadcrumb'); */;\n\n/* removed: var _$Session_32 = require('./session'); */;\n\n/* removed: var _$map_15 = require('./lib/es-utils/map'); */;\n\n/* removed: var _$includes_12 = require('./lib/es-utils/includes'); */;\n\n/* removed: var _$filter_11 = require('./lib/es-utils/filter'); */;\n\n/* removed: var _$reduce_16 = require('./lib/es-utils/reduce'); */;\n\n/* removed: var _$keys_14 = require('./lib/es-utils/keys'); */;\n\n/* removed: var _$assign_10 = require('./lib/es-utils/assign'); */;\n\n/* removed: var _$callbackRunner_7 = require('./lib/callback-runner'); */;\n\n/* removed: var _$metadataDelegate_21 = require('./lib/metadata-delegate'); */;\n\n/* removed: var _$syncCallbackRunner_24 = require('./lib/sync-callback-runner'); */;\n\n/* removed: var _$breadcrumbTypes_6 = require('./lib/breadcrumb-types'); */;\n\nvar __add_2 = _$featureFlagDelegate_17.add,\n    __clear_2 = _$featureFlagDelegate_17.clear,\n    __merge_2 = _$featureFlagDelegate_17.merge;\n\nvar noop = function () {};\n\nvar Client = /*#__PURE__*/function () {\n  function Client(configuration, schema, internalPlugins, notifier) {\n    var _this = this;\n\n    if (schema === void 0) {\n      schema = _$config_3.schema;\n    }\n\n    if (internalPlugins === void 0) {\n      internalPlugins = [];\n    }\n\n    // notifier id\n    this._notifier = notifier; // intialise opts and config\n\n    this._config = {};\n    this._schema = schema; // i/o\n\n    this._delivery = {\n      sendSession: noop,\n      sendEvent: noop\n    };\n    this._logger = {\n      debug: noop,\n      info: noop,\n      warn: noop,\n      error: noop\n    }; // plugins\n\n    this._plugins = {}; // state\n\n    this._breadcrumbs = [];\n    this._session = null;\n    this._metadata = {};\n    this._featuresIndex = {};\n    this._features = [];\n    this._context = undefined;\n    this._user = {}; // callbacks:\n    //  e: onError\n    //  s: onSession\n    //  sp: onSessionPayload\n    //  b: onBreadcrumb\n    // (note these names are minified by hand because object\n    // properties are not safe to minify automatically)\n\n    this._cbs = {\n      e: [],\n      s: [],\n      sp: [],\n      b: []\n    }; // expose internal constructors\n\n    this.Client = Client;\n    this.Event = _$Event_4;\n    this.Breadcrumb = _$Breadcrumb_1;\n    this.Session = _$Session_32;\n    this._config = this._configure(configuration, internalPlugins);\n    _$map_15(internalPlugins.concat(this._config.plugins), function (pl) {\n      if (pl) _this._loadPlugin(pl);\n    }); // when notify() is called we need to know how many frames are from our own source\n    // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n    // bound to have the client as its `this` value  see below.\n\n    this._depth = 1;\n    var self = this;\n    var notify = this.notify;\n\n    this.notify = function () {\n      return notify.apply(self, arguments);\n    };\n  }\n\n  var _proto = Client.prototype;\n\n  _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n    return _$metadataDelegate_21.add(this._metadata, section, keyOrObj, maybeVal);\n  };\n\n  _proto.getMetadata = function getMetadata(section, key) {\n    return _$metadataDelegate_21.get(this._metadata, section, key);\n  };\n\n  _proto.clearMetadata = function clearMetadata(section, key) {\n    return _$metadataDelegate_21.clear(this._metadata, section, key);\n  };\n\n  _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n    if (variant === void 0) {\n      variant = null;\n    }\n\n    __add_2(this._features, this._featuresIndex, name, variant);\n  };\n\n  _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n    __merge_2(this._features, featureFlags, this._featuresIndex);\n  };\n\n  _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n    __clear_2(this._features, this._featuresIndex, name);\n  };\n\n  _proto.clearFeatureFlags = function clearFeatureFlags() {\n    this._features = [];\n    this._featuresIndex = {};\n  };\n\n  _proto.getContext = function getContext() {\n    return this._context;\n  };\n\n  _proto.setContext = function setContext(c) {\n    this._context = c;\n  };\n\n  _proto._configure = function _configure(opts, internalPlugins) {\n    var schema = _$reduce_16(internalPlugins, function (schema, plugin) {\n      if (plugin && plugin.configSchema) return _$assign_10({}, schema, plugin.configSchema);\n      return schema;\n    }, this._schema); // accumulate configuration and error messages\n\n    var _reduce = _$reduce_16(_$keys_14(schema), function (accum, key) {\n      var defaultValue = schema[key].defaultValue(opts[key]);\n\n      if (opts[key] !== undefined) {\n        var valid = schema[key].validate(opts[key]);\n\n        if (!valid) {\n          accum.errors[key] = schema[key].message;\n          accum.config[key] = defaultValue;\n        } else {\n          if (schema[key].allowPartialObject) {\n            accum.config[key] = _$assign_10(defaultValue, opts[key]);\n          } else {\n            accum.config[key] = opts[key];\n          }\n        }\n      } else {\n        accum.config[key] = defaultValue;\n      }\n\n      return accum;\n    }, {\n      errors: {},\n      config: {}\n    }),\n        errors = _reduce.errors,\n        config = _reduce.config;\n\n    if (schema.apiKey) {\n      // missing api key is the only fatal error\n      if (!config.apiKey) throw new Error('No Bugsnag API Key set'); // warn about an apikey that is not of the expected format\n\n      if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters';\n    } // update and elevate some options\n\n\n    this._metadata = _$assign_10({}, config.metadata);\n    __merge_2(this._features, config.featureFlags, this._featuresIndex);\n    this._user = _$assign_10({}, config.user);\n    this._context = config.context;\n    if (config.logger) this._logger = config.logger; // add callbacks\n\n    if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError);\n    if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb);\n    if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession); // finally warn about any invalid config where we fell back to the default\n\n    if (_$keys_14(errors).length) {\n      this._logger.warn(generateConfigErrorMessage(errors, opts));\n    }\n\n    return config;\n  };\n\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n\n  _proto._loadPlugin = function _loadPlugin(plugin) {\n    var result = plugin.load(this); // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n\n    if (plugin.name) this._plugins[\"~\" + plugin.name + \"~\"] = result;\n    return this;\n  };\n\n  _proto.getPlugin = function getPlugin(name) {\n    return this._plugins[\"~\" + name + \"~\"];\n  };\n\n  _proto._setDelivery = function _setDelivery(d) {\n    this._delivery = d(this);\n  };\n\n  _proto.startSession = function startSession() {\n    var session = new _$Session_32();\n    session.app.releaseStage = this._config.releaseStage;\n    session.app.version = this._config.appVersion;\n    session.app.type = this._config.appType;\n    session._user = _$assign_10({}, this._user); // run onSession callbacks\n\n    var ignore = _$syncCallbackRunner_24(this._cbs.s, session, 'onSession', this._logger);\n\n    if (ignore) {\n      this._logger.debug('Session not started due to onSession callback');\n\n      return this;\n    }\n\n    return this._sessionDelegate.startSession(this, session);\n  };\n\n  _proto.addOnError = function addOnError(fn, front) {\n    if (front === void 0) {\n      front = false;\n    }\n\n    this._cbs.e[front ? 'unshift' : 'push'](fn);\n  };\n\n  _proto.removeOnError = function removeOnError(fn) {\n    this._cbs.e = _$filter_11(this._cbs.e, function (f) {\n      return f !== fn;\n    });\n  };\n\n  _proto._addOnSessionPayload = function _addOnSessionPayload(fn) {\n    this._cbs.sp.push(fn);\n  };\n\n  _proto.addOnSession = function addOnSession(fn) {\n    this._cbs.s.push(fn);\n  };\n\n  _proto.removeOnSession = function removeOnSession(fn) {\n    this._cbs.s = _$filter_11(this._cbs.s, function (f) {\n      return f !== fn;\n    });\n  };\n\n  _proto.addOnBreadcrumb = function addOnBreadcrumb(fn, front) {\n    if (front === void 0) {\n      front = false;\n    }\n\n    this._cbs.b[front ? 'unshift' : 'push'](fn);\n  };\n\n  _proto.removeOnBreadcrumb = function removeOnBreadcrumb(fn) {\n    this._cbs.b = _$filter_11(this._cbs.b, function (f) {\n      return f !== fn;\n    });\n  };\n\n  _proto.pauseSession = function pauseSession() {\n    return this._sessionDelegate.pauseSession(this);\n  };\n\n  _proto.resumeSession = function resumeSession() {\n    return this._sessionDelegate.resumeSession(this);\n  };\n\n  _proto.leaveBreadcrumb = function leaveBreadcrumb(message, metadata, type) {\n    // coerce bad values so that the defaults get set\n    message = typeof message === 'string' ? message : '';\n    type = typeof type === 'string' && _$includes_12(_$breadcrumbTypes_6, type) ? type : 'manual';\n    metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}; // if no message, discard\n\n    if (!message) return;\n    var crumb = new _$Breadcrumb_1(message, metadata, type); // run onBreadcrumb callbacks\n\n    var ignore = _$syncCallbackRunner_24(this._cbs.b, crumb, 'onBreadcrumb', this._logger);\n\n    if (ignore) {\n      this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback');\n\n      return;\n    } // push the valid crumb onto the queue and maintain the length\n\n\n    this._breadcrumbs.push(crumb);\n\n    if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs);\n    }\n  };\n\n  _proto._isBreadcrumbTypeEnabled = function _isBreadcrumbTypeEnabled(type) {\n    var types = this._config.enabledBreadcrumbTypes;\n    return types === null || _$includes_12(types, type);\n  };\n\n  _proto.notify = function notify(maybeError, onError, postReportCallback) {\n    if (postReportCallback === void 0) {\n      postReportCallback = noop;\n    }\n\n    var event = _$Event_4.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger);\n\n    this._notify(event, onError, postReportCallback);\n  };\n\n  _proto._notify = function _notify(event, onError, postReportCallback) {\n    var _this2 = this;\n\n    if (postReportCallback === void 0) {\n      postReportCallback = noop;\n    }\n\n    event.app = _$assign_10({}, event.app, {\n      releaseStage: this._config.releaseStage,\n      version: this._config.appVersion,\n      type: this._config.appType\n    });\n    event.context = event.context || this._context;\n    event._metadata = _$assign_10({}, event._metadata, this._metadata);\n    event._user = _$assign_10({}, event._user, this._user);\n    event.breadcrumbs = this._breadcrumbs.slice();\n    __merge_2(event._features, this._features, event._featuresIndex); // exit early if events should not be sent on the current releaseStage\n\n    if (this._config.enabledReleaseStages !== null && !_$includes_12(this._config.enabledReleaseStages, this._config.releaseStage)) {\n      this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration');\n\n      return postReportCallback(null, event);\n    }\n\n    var originalSeverity = event.severity;\n\n    var onCallbackError = function (err) {\n      // errors in callbacks are tolerated but we want to log them out\n      _this2._logger.error('Error occurred in onError callback, continuing anyway');\n\n      _this2._logger.error(err);\n    };\n\n    var callbacks = [].concat(this._cbs.e).concat(onError);\n    _$callbackRunner_7(callbacks, event, onCallbackError, function (err, shouldSend) {\n      if (err) onCallbackError(err);\n\n      if (!shouldSend) {\n        _this2._logger.debug('Event not sent due to onError callback');\n\n        return postReportCallback(null, event);\n      }\n\n      if (_this2._isBreadcrumbTypeEnabled('error')) {\n        // only leave a crumb for the error if actually got sent\n        Client.prototype.leaveBreadcrumb.call(_this2, event.errors[0].errorClass, {\n          errorClass: event.errors[0].errorClass,\n          errorMessage: event.errors[0].errorMessage,\n          severity: event.severity\n        }, 'error');\n      }\n\n      if (originalSeverity !== event.severity) {\n        event._handledState.severityReason = {\n          type: 'userCallbackSetSeverity'\n        };\n      }\n\n      if (event.unhandled !== event._handledState.unhandled) {\n        event._handledState.severityReason.unhandledOverridden = true;\n        event._handledState.unhandled = event.unhandled;\n      }\n\n      if (_this2._session) {\n        _this2._session._track(event);\n\n        event._session = _this2._session;\n      }\n\n      _this2._delivery.sendEvent({\n        apiKey: event.apiKey || _this2._config.apiKey,\n        notifier: _this2._notifier,\n        events: [event]\n      }, function (err) {\n        return postReportCallback(err, event);\n      });\n    });\n  };\n\n  return Client;\n}();\n\nvar generateConfigErrorMessage = function (errors, rawInput) {\n  var er = new Error(\"Invalid configuration\\n\" + _$map_15(_$keys_14(errors), function (key) {\n    return \"  - \" + key + \" \" + errors[key] + \", got \" + stringify(rawInput[key]);\n  }).join('\\n\\n'));\n  return er;\n};\n\nvar stringify = function (val) {\n  switch (typeof val) {\n    case 'string':\n    case 'number':\n    case 'object':\n      return JSON.stringify(val);\n\n    default:\n      return String(val);\n  }\n};\n\nvar _$Client_2 = Client;\n\nvar _$jsonPayload_20 = {};\n/* removed: var _$safeJsonStringify_31 = require('@bugsnag/safe-json-stringify'); */;\n\nvar EVENT_REDACTION_PATHS = ['events.[].metaData', 'events.[].breadcrumbs.[].metaData', 'events.[].request'];\n\n_$jsonPayload_20.event = function (event, redactedKeys) {\n  var payload = _$safeJsonStringify_31(event, null, null, {\n    redactedPaths: EVENT_REDACTION_PATHS,\n    redactedKeys: redactedKeys\n  });\n\n  if (payload.length > 10e5) {\n    event.events[0]._metadata = {\n      notifier: \"WARNING!\\nSerialized payload was \" + payload.length / 10e5 + \"MB (limit = 1MB)\\nmetadata was removed\"\n    };\n    payload = _$safeJsonStringify_31(event, null, null, {\n      redactedPaths: EVENT_REDACTION_PATHS,\n      redactedKeys: redactedKeys\n    });\n  }\n\n  return payload;\n};\n\n_$jsonPayload_20.session = function (session, redactedKeys) {\n  var payload = _$safeJsonStringify_31(session, null, null);\n  return payload;\n};\n\nvar http = require(\"http\");\n\nvar https = require(\"https\"); // eslint-disable-next-line node/no-deprecated-api\n\n\nvar ___require_34 = require(\"url\"),\n    parse = ___require_34.parse;\n\nvar _$request_34 = function (_ref, cb) {\n  var url = _ref.url,\n      headers = _ref.headers,\n      body = _ref.body,\n      agent = _ref.agent;\n  var didError = false;\n\n  var onError = function (err) {\n    if (didError) return;\n    didError = true;\n    cb(err);\n  };\n\n  var parsedUrl = parse(url);\n  var secure = parsedUrl.protocol === 'https:';\n  var transport = secure ? https : http;\n  var req = transport.request({\n    method: 'POST',\n    hostname: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    headers: headers,\n    agent: agent\n  });\n  req.on('error', onError);\n  req.on('response', function (res) {\n    bufferResponse(res, function (err, body) {\n      if (err) return onError(err);\n\n      if (res.statusCode < 200 || res.statusCode >= 300) {\n        return onError(new Error(\"Bad statusCode from API: \" + res.statusCode + \"\\n\" + body));\n      }\n\n      cb(null, body);\n    });\n  });\n  req.write(body);\n  req.end();\n};\n\nvar bufferResponse = function (stream, cb) {\n  var data = '';\n  stream.on('error', cb);\n  stream.setEncoding('utf8');\n  stream.on('data', function (d) {\n    data += d;\n  });\n  stream.on('end', function () {\n    return cb(null, data);\n  });\n};\n\n/* removed: var _$jsonPayload_20 = require('@bugsnag/core/lib/json-payload'); */;\n\n/* removed: var _$request_34 = require('./request'); */;\n\nvar _$delivery_33 = function (client) {\n  return {\n    sendEvent: function (event, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n\n      var body = _$jsonPayload_20.event(event, client._config.redactedKeys);\n\n      var _cb = function (err) {\n        if (err) client._logger.error(\"Event failed to send\\u2026\\n\" + (err && err.stack ? err.stack : err), err);\n\n        if (body.length > 10e5) {\n          client._logger.warn(\"Event oversized (\" + (body.length / 10e5).toFixed(2) + \" MB)\");\n        }\n\n        cb(err);\n      };\n\n      try {\n        _$request_34({\n          url: client._config.endpoints.notify,\n          headers: {\n            'Content-Type': 'application/json',\n            'Bugsnag-Api-Key': event.apiKey || client._config.apiKey,\n            'Bugsnag-Payload-Version': '4',\n            'Bugsnag-Sent-At': new Date().toISOString()\n          },\n          body: body,\n          agent: client._config.agent\n        }, function (err, body) {\n          return _cb(err);\n        });\n      } catch (e) {\n        _cb(e);\n      }\n    },\n    sendSession: function (session, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n\n      var _cb = function (err) {\n        if (err) client._logger.error(\"Session failed to send\\u2026\\n\" + (err && err.stack ? err.stack : err), err);\n        cb(err);\n      };\n\n      try {\n        _$request_34({\n          url: client._config.endpoints.sessions,\n          headers: {\n            'Content-Type': 'application/json',\n            'Bugsnag-Api-Key': client._config.apiKey,\n            'Bugsnag-Payload-Version': '1',\n            'Bugsnag-Sent-At': new Date().toISOString()\n          },\n          body: _$jsonPayload_20.session(session, client._config.redactedKeys),\n          agent: client._config.agent\n        }, function (err) {\n          return _cb(err);\n        });\n      } catch (e) {\n        _cb(e);\n      }\n    }\n  };\n};\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar schema = _$config_3.schema;\n\n/* removed: var _$stringWithLength_27 = require('@bugsnag/core/lib/validators/string-with-length'); */;\n\nvar __os_35 = require(\"os\");\n\nvar _require2 = require(\"util\"),\n    inspect = _require2.inspect;\n\nvar _$config_35 = {\n  appType: _extends({}, schema.appType, {\n    defaultValue: function () {\n      return 'node';\n    }\n  }),\n  projectRoot: {\n    defaultValue: function () {\n      return process.cwd();\n    },\n    validate: function (value) {\n      return value === null || _$stringWithLength_27(value);\n    },\n    message: 'should be string'\n  },\n  hostname: {\n    defaultValue: function () {\n      return __os_35.hostname();\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === null || _$stringWithLength_27(value);\n    }\n  },\n  logger: _extends({}, schema.logger, {\n    defaultValue: function () {\n      return getPrefixedConsole();\n    }\n  }),\n  releaseStage: _extends({}, schema.releaseStage, {\n    defaultValue: function () {\n      return process.env.NODE_ENV || 'production';\n    }\n  }),\n  agent: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be an HTTP(s) agent',\n    validate: function (value) {\n      return value === undefined || isAgent(value);\n    }\n  },\n  onUncaughtException: {\n    defaultValue: function () {\n      return function (err, event, logger) {\n        logger.error(\"Uncaught exception\" + getContext(event) + \", the process will now terminate\\u2026\\n\" + printError(err));\n        process.exit(1);\n      };\n    },\n    message: 'should be a function',\n    validate: function (value) {\n      return typeof value === 'function';\n    }\n  },\n  onUnhandledRejection: {\n    defaultValue: function () {\n      return function (err, event, logger) {\n        logger.error(\"Unhandled rejection\" + getContext(event) + \"\\u2026\\n\" + printError(err));\n      };\n    },\n    message: 'should be a function',\n    validate: function (value) {\n      return typeof value === 'function';\n    }\n  }\n};\n\nvar printError = function (err) {\n  return err && err.stack ? err.stack : inspect(err);\n};\n\nvar getPrefixedConsole = function () {\n  return ['debug', 'info', 'warn', 'error'].reduce(function (accum, method) {\n    var consoleMethod = console[method] || console.log;\n    accum[method] = consoleMethod.bind(console, '[bugsnag]');\n    return accum;\n  }, {});\n};\n\nvar getContext = function (event) {\n  return event.request && Object.keys(event.request).length ? \" at \" + event.request.httpMethod + \" \" + (event.request.path || event.request.url) : '';\n};\n\nvar isAgent = function (value) {\n  return typeof value === 'object' && value !== null || typeof value === 'boolean';\n};\n\nvar appStart = new Date();\n\nvar reset = function () {\n  appStart = new Date();\n};\n\nvar _$app_37 = {\n  name: 'appDuration',\n  load: function (client) {\n    client.addOnError(function (event) {\n      var now = new Date();\n      event.app.duration = now - appStart;\n    }, true);\n    return {\n      reset: reset\n    };\n  }\n};\n\nvar _$nodeFallbackStack_22 = {};\n// The utilities in this file are used to save the stackframes from a known execution context\n// to use when a subsequent error has no stack frames. This happens with a lot of\n// node's builtin async callbacks when they return from the native layer with no context\n// for example:\n//\n//   fs.readFile('does not exist', (err) => {\n//     /* node 8 */\n//     err.stack = \"ENOENT: no such file or directory, open 'nope'\"\n//     /* node 4,6 */\n//     err.stack = \"Error: ENOENT: no such file or directory, open 'nope'\\n    at Error (native)\"\n//   })\n// Gets the stack string for the current execution context\n_$nodeFallbackStack_22.getStack = function () {\n  // slice(3) removes the first line + this function's frame + the caller's frame,\n  // so the stack begins with the caller of this function\n  return new Error().stack.split('\\n').slice(3).join('\\n');\n}; // Given an Error and a fallbackStack from getStack(), use the fallbackStack\n// if error.stack has no genuine stackframes (according to the example above)\n\n\n_$nodeFallbackStack_22.maybeUseFallbackStack = function (err, fallbackStack) {\n  var lines = err.stack.split('\\n');\n\n  if (lines.length === 1 || lines.length === 2 && /at Error \\(native\\)/.test(lines[1])) {\n    err.stack = lines[0] + \"\\n\" + fallbackStack;\n  }\n\n  return err;\n};\n\nvar _$contextualize_38 = {};\n/* eslint node/no-deprecated-api: [error, {ignoreModuleItems: [\"domain\"]}] */\nvar domain = require(\"domain\");\n\nvar getStack = _$nodeFallbackStack_22.getStack,\n    maybeUseFallbackStack = _$nodeFallbackStack_22.maybeUseFallbackStack;\n\n_$contextualize_38 = {\n  name: 'contextualize',\n  load: function (client) {\n    var contextualize = function (fn, onError) {\n      // capture a stacktrace in case a resulting error has nothing\n      var fallbackStack = getStack();\n      var dom = domain.create();\n      dom.on('error', function (err) {\n        // check if the stacktrace has no context, if so, if so append the frames we created earlier\n        if (err.stack) maybeUseFallbackStack(err, fallbackStack);\n        var event = client.Event.create(err, true, {\n          severity: 'error',\n          unhandled: true,\n          severityReason: {\n            type: 'unhandledException'\n          }\n        }, 'contextualize()', 1);\n\n        client._notify(event, onError, function (e, event) {\n          if (e) client._logger.error('Failed to send event to Bugsnag');\n\n          client._config.onUncaughtException(err, event, client._logger);\n        });\n      });\n      process.nextTick(function () {\n        return dom.run(fn);\n      });\n    };\n\n    return contextualize;\n  }\n}; // add a default export for ESM modules without interop\n\n_$contextualize_38[\"default\"] = _$contextualize_38;\n\nvar _$intercept_39 = {};\nvar __getStack_39 = _$nodeFallbackStack_22.getStack,\n    __maybeUseFallbackStack_39 = _$nodeFallbackStack_22.maybeUseFallbackStack;\n\n_$intercept_39 = {\n  name: 'intercept',\n  load: function (client) {\n    var intercept = function (onError, cb) {\n      if (onError === void 0) {\n        onError = function () {};\n      }\n\n      if (typeof cb !== 'function') {\n        cb = onError;\n\n        onError = function () {};\n      } // capture a stacktrace in case a resulting error has nothing\n\n\n      var fallbackStack = __getStack_39();\n      return function (err) {\n        if (err) {\n          // check if the stacktrace has no context, if so, if so append the frames we created earlier\n          if (err.stack) __maybeUseFallbackStack_39(err, fallbackStack);\n          var event = client.Event.create(err, true, {\n            severity: 'warning',\n            unhandled: false,\n            severityReason: {\n              type: 'callbackErrorIntercept'\n            }\n          }, 'intercept()', 1);\n\n          client._notify(event, onError);\n\n          return;\n        }\n\n        for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          data[_key - 1] = arguments[_key];\n        }\n\n        cb.apply(void 0, data); // eslint-disable-line\n      };\n    };\n\n    return intercept;\n  }\n}; // add a default export for ESM modules without interop\n\n_$intercept_39[\"default\"] = _$intercept_39;\n\nfunction ___extends_40() { ___extends_40 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return ___extends_40.apply(this, arguments); }\n\nvar __os_40 = require(\"os\");\n/*\n * Automatically detects Node server details ('device' in the API)\n */\n\n\nvar _$device_40 = {\n  load: function (client) {\n    var device = {\n      osName: __os_40.platform() + \" (\" + __os_40.arch() + \")\",\n      osVersion: __os_40.release(),\n      totalMemory: __os_40.totalmem(),\n      hostname: client._config.hostname,\n      runtimeVersions: {\n        node: process.versions.node\n      }\n    };\n\n    client._addOnSessionPayload(function (sp) {\n      sp.device = ___extends_40({}, sp.device, device);\n    }); // add time just as the event is sent\n\n\n    client.addOnError(function (event) {\n      event.device = ___extends_40({}, event.device, device, {\n        freeMemory: __os_40.freemem(),\n        time: new Date()\n      });\n    }, true);\n  }\n};\n\nvar ___require_23 = require(\"path\"),\n    join = ___require_23.join,\n    resolve = ___require_23.resolve; // normalise a path to a directory, adding a trailing slash if it doesn't already\n// have one and resolve it to make it absolute (e.g. get rid of any \"..\"s)\n\n\nvar _$pathNormalizer_23 = function (p) {\n  return join(resolve(p), '/');\n};\n\n/* removed: var _$pathNormalizer_23 = require('@bugsnag/core/lib/path-normalizer'); */;\n\nvar _$inProject_41 = {\n  load: function (client) {\n    return client.addOnError(function (event) {\n      if (!client._config.projectRoot) return;\n      var projectRoot = _$pathNormalizer_23(client._config.projectRoot);\n      var allFrames = event.errors.reduce(function (accum, er) {\n        return accum.concat(er.stacktrace);\n      }, []);\n      allFrames.map(function (stackframe) {\n        stackframe.inProject = typeof stackframe.file === 'string' && stackframe.file.indexOf(projectRoot) === 0 && !/\\/node_modules\\//.test(stackframe.file);\n      });\n    });\n  }\n};\n\nfunction ___extends_42() { ___extends_42 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return ___extends_42.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SURROUNDING_LINES = 3;\nvar MAX_LINE_LENGTH = 200;\n\nvar ___require_42 = require(\"fs\"),\n    createReadStream = ___require_42.createReadStream;\n\nvar ___require2_42 = require(\"stream\"),\n    Writable = ___require2_42.Writable;\n\nvar pump = require(\"pump\");\n\nvar byline = require(\"byline\");\n\nvar path = require(\"path\");\n\nvar _$surroundingCode_42 = {\n  load: function (client) {\n    if (!client._config.sendCode) return;\n\n    var loadSurroundingCode = function (stackframe, cache) {\n      return new Promise(function (resolve, reject) {\n        try {\n          if (!stackframe.lineNumber || !stackframe.file) return resolve(stackframe);\n          var file = path.resolve(client._config.projectRoot, stackframe.file);\n          var cacheKey = file + \"@\" + stackframe.lineNumber;\n\n          if (cacheKey in cache) {\n            stackframe.code = cache[cacheKey];\n            return resolve(stackframe);\n          }\n\n          getSurroundingCode(file, stackframe.lineNumber, function (err, code) {\n            if (err) return resolve(stackframe);\n            stackframe.code = cache[cacheKey] = code;\n            return resolve(stackframe);\n          });\n        } catch (e) {\n          return resolve(stackframe);\n        }\n      });\n    };\n\n    client.addOnError(function (event) {\n      return new Promise(function (resolve, reject) {\n        var cache = Object.create(null);\n        var allFrames = event.errors.reduce(function (accum, er) {\n          return accum.concat(er.stacktrace);\n        }, []);\n        pMapSeries(allFrames.map(function (stackframe) {\n          return function () {\n            return loadSurroundingCode(stackframe, cache);\n          };\n        })).then(resolve)[\"catch\"](reject);\n      });\n    });\n  },\n  configSchema: {\n    sendCode: {\n      defaultValue: function () {\n        return true;\n      },\n      validate: function (value) {\n        return value === true || value === false;\n      },\n      message: 'should be true or false'\n    }\n  }\n};\n\nvar getSurroundingCode = function (file, lineNumber, cb) {\n  var start = lineNumber - SURROUNDING_LINES;\n  var end = lineNumber + SURROUNDING_LINES;\n  var reader = createReadStream(file, {\n    encoding: 'utf8'\n  });\n  var splitter = new byline.LineStream({\n    keepEmptyLines: true\n  });\n  var slicer = new CodeRange({\n    start: start,\n    end: end\n  }); // if the slicer has enough lines already, no need to keep reading from the file\n\n  slicer.on('done', function () {\n    return reader.destroy();\n  });\n  pump(reader, splitter, slicer, function (err) {\n    // reader.destroy() causes a \"premature close\" error which we can tolerate\n    if (err && err.message !== 'premature close') return cb(err);\n    cb(null, slicer.getCode());\n  });\n}; // This writable stream takes { start, end } options specifying the\n// range of lines that should be extracted from a file. Pipe a readable\n// stream to it that provides source lines as each chunk. If the range\n// is satisfied before the end of the readable stream, it will emit the\n// 'done' event. Once a 'done' or 'finish' event has been seen, call getCode()\n// to get the range in the following format:\n// {\n//   '10': 'function getSquare (cb) {',\n//   '11': '  rectangles.find({',\n//   '12': '    length: 12',\n//   '13': '    width: 12',\n//   '14': '  }, err => cb)',\n//   '15': '}'\n// }\n\n\nvar CodeRange = /*#__PURE__*/function (_Writable) {\n  _inheritsLoose(CodeRange, _Writable);\n\n  function CodeRange(opts) {\n    var _this;\n\n    _this = _Writable.call(this, ___extends_42({}, opts, {\n      decodeStrings: false\n    })) || this;\n    _this._start = opts.start;\n    _this._end = opts.end;\n    _this._n = 0;\n    _this._code = {};\n    return _this;\n  }\n\n  var _proto = CodeRange.prototype;\n\n  _proto._write = function _write(chunk, enc, cb) {\n    this._n++;\n    if (this._n < this._start) return cb(null);\n\n    if (this._n <= this._end) {\n      this._code[String(this._n)] = chunk.length <= MAX_LINE_LENGTH ? chunk : chunk.substr(0, MAX_LINE_LENGTH);\n      return cb(null);\n    }\n\n    this.emit('done');\n    return cb(null);\n  };\n\n  _proto.getCode = function getCode() {\n    return this._code;\n  };\n\n  return CodeRange;\n}(Writable);\n\nvar pMapSeries = function (ps) {\n  return new Promise(function (resolve, reject) {\n    var res = [];\n    ps.reduce(function (accum, p) {\n      return accum.then(function (r) {\n        res.push(r);\n        return p();\n      });\n    }, Promise.resolve()).then(function (r) {\n      res.push(r);\n    }).then(function () {\n      resolve(res.slice(1));\n    });\n  });\n};\n\nvar _handler;\n\nvar _$uncaughtException_43 = {\n  load: function (client) {\n    if (!client._config.autoDetectErrors) return;\n    if (!client._config.enabledErrorTypes.unhandledExceptions) return;\n\n    _handler = function (err) {\n      var event = client.Event.create(err, false, {\n        severity: 'error',\n        unhandled: true,\n        severityReason: {\n          type: 'unhandledException'\n        }\n      }, 'uncaughtException handler', 1);\n\n      client._notify(event, function () {}, function (e, event) {\n        if (e) client._logger.error('Failed to send event to Bugsnag');\n\n        client._config.onUncaughtException(err, event, client._logger);\n      });\n    };\n\n    process.on('uncaughtException', _handler);\n  },\n  destroy: function () {\n    process.removeListener('uncaughtException', _handler);\n  }\n};\n\nvar ___handler_44;\n\nvar _$unhandledRejection_44 = {\n  load: function (client) {\n    if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return;\n\n    ___handler_44 = function (err) {\n      var event = client.Event.create(err, false, {\n        severity: 'error',\n        unhandled: true,\n        severityReason: {\n          type: 'unhandledPromiseRejection'\n        }\n      }, 'unhandledRejection handler', 1);\n      return new Promise(function (resolve) {\n        client._notify(event, function () {}, function (e, event) {\n          if (e) client._logger.error('Failed to send event to Bugsnag');\n\n          client._config.onUnhandledRejection(err, event, client._logger);\n\n          resolve();\n        });\n      });\n    }; // Prepend the listener if we can (Node 6+)\n\n\n    if (process.prependListener) {\n      process.prependListener('unhandledRejection', ___handler_44);\n    } else {\n      process.on('unhandledRejection', ___handler_44);\n    }\n  },\n  destroy: function () {\n    process.removeListener('unhandledRejection', ___handler_44);\n  }\n};\n\nvar _$cloneClient_8 = {};\n/* removed: var _$assign_10 = require('./es-utils/assign'); */;\n\nvar onCloneCallbacks = [];\n\n_$cloneClient_8 = function (client) {\n  var clone = new client.Client({}, {}, [], client._notifier);\n  clone._config = client._config; // changes to these properties should not be reflected in the original client,\n  // so ensure they are are (shallow) cloned\n\n  clone._breadcrumbs = client._breadcrumbs.slice();\n  clone._metadata = _$assign_10({}, client._metadata);\n  clone._features = [].concat(client._features);\n  clone._featuresIndex = _$assign_10({}, client._featuresIndex);\n  clone._user = _$assign_10({}, client._user);\n  clone._context = client._context;\n  clone._cbs = {\n    e: client._cbs.e.slice(),\n    s: client._cbs.s.slice(),\n    sp: client._cbs.sp.slice(),\n    b: client._cbs.b.slice()\n  };\n  clone._logger = client._logger;\n  clone._delivery = client._delivery;\n  clone._sessionDelegate = client._sessionDelegate;\n  onCloneCallbacks.forEach(function (callback) {\n    callback(clone);\n  });\n  return clone;\n};\n\n_$cloneClient_8.registerCallback = function (callback) {\n  onCloneCallbacks.push(callback);\n};\n\n/**\n * Expose `Backoff`.\n */\nvar _$Backoff_45 = Backoff;\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\n\nBackoff.prototype.duration = function () {\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n\n  if (this.jitter) {\n    var rand = Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n  }\n\n  return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\n\nBackoff.prototype.reset = function () {\n  this.attempts = 0;\n};\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction ___inheritsLoose_47(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; ___setPrototypeOf_47(subClass, superClass); }\n\nfunction ___setPrototypeOf_47(o, p) { ___setPrototypeOf_47 = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return ___setPrototypeOf_47(o, p); }\n\nvar DEFAULT_SUMMARY_INTERVAL = 10 * 1000;\n\nvar Emitter = require(\"events\").EventEmitter;\n\nvar _$tracker_47 = /*#__PURE__*/function (_Emitter) {\n  ___inheritsLoose_47(SessionTracker, _Emitter);\n\n  function SessionTracker(intervalLength) {\n    var _this;\n\n    _this = _Emitter.call(this) || this;\n    _this._sessions = new Map();\n    _this._interval = null;\n    _this._intervalLength = intervalLength || DEFAULT_SUMMARY_INTERVAL;\n    _this._summarize = _this._summarize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = SessionTracker.prototype;\n\n  _proto.start = function start() {\n    if (!this._interval) {\n      this._interval = setInterval(this._summarize, this._intervalLength).unref();\n    }\n  };\n\n  _proto.stop = function stop() {\n    clearInterval(this._interval);\n    this._interval = null;\n  };\n\n  _proto.track = function track(session) {\n    var key = dateToMsKey(session.startedAt);\n\n    var cur = this._sessions.get(key);\n\n    this._sessions.set(key, typeof cur === 'undefined' ? 1 : cur + 1);\n\n    return session;\n  };\n\n  _proto._summarize = function _summarize() {\n    var _this2 = this;\n\n    var summary = [];\n\n    this._sessions.forEach(function (val, key) {\n      summary.push({\n        startedAt: key,\n        sessionsStarted: val\n      });\n\n      _this2._sessions[\"delete\"](key);\n    });\n\n    if (!summary.length) return;\n    this.emit('summary', summary);\n  };\n\n  return SessionTracker;\n}(Emitter);\n\nvar dateToMsKey = function (d) {\n  var dk = new Date(d);\n  dk.setSeconds(0);\n  dk.setMilliseconds(0);\n  return dk.toISOString();\n};\n\n/* removed: var _$intRange_25 = require('@bugsnag/core/lib/validators/int-range'); */;\n\n/* removed: var _$cloneClient_8 = require('@bugsnag/core/lib/clone-client'); */;\n\n/* removed: var _$tracker_47 = require('./tracker'); */;\n\n/* removed: var _$Backoff_45 = require('backo'); */;\n\n/* removed: var _$syncCallbackRunner_24 = require('@bugsnag/core/lib/sync-callback-runner'); */;\n\nvar _$session_46 = {\n  load: function (client) {\n    var sessionTracker = new _$tracker_47(client._config.sessionSummaryInterval);\n    sessionTracker.on('summary', sendSessionSummary(client));\n    sessionTracker.start();\n    client._sessionDelegate = {\n      startSession: function (client, session) {\n        var sessionClient = _$cloneClient_8(client);\n        sessionClient._session = session;\n        sessionClient._pausedSession = null;\n        sessionTracker.track(sessionClient._session);\n        return sessionClient;\n      },\n      pauseSession: function (client) {\n        client._pausedSession = client._session;\n        client._session = null;\n      },\n      resumeSession: function (client) {\n        // Do nothing if there's already an active session\n        if (client._session) {\n          return client;\n        } // If we have a paused session then make it the active session\n\n\n        if (client._pausedSession) {\n          client._session = client._pausedSession;\n          client._pausedSession = null;\n          return client;\n        } // Otherwise start a new session\n\n\n        return client.startSession();\n      }\n    };\n  },\n  configSchema: {\n    sessionSummaryInterval: {\n      defaultValue: function () {\n        return undefined;\n      },\n      validate: function (value) {\n        return value === undefined || _$intRange_25()(value);\n      },\n      message: 'should be a positive integer'\n    }\n  }\n};\n\nvar sendSessionSummary = function (client) {\n  return function (sessionCounts) {\n    // exit early if the current releaseStage is not enabled\n    if (client._config.enabledReleaseStages !== null && !client._config.enabledReleaseStages.includes(client._config.releaseStage)) {\n      client._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration');\n\n      return;\n    }\n\n    if (!sessionCounts.length) return;\n    var backoff = new _$Backoff_45({\n      min: 1000,\n      max: 10000\n    });\n    var maxAttempts = 10;\n    req(handleRes);\n\n    function handleRes(err) {\n      if (!err) {\n        var sessionCount = sessionCounts.reduce(function (accum, s) {\n          return accum + s.sessionsStarted;\n        }, 0);\n        return client._logger.debug(sessionCount + \" session(s) reported\");\n      }\n\n      if (backoff.attempts === 10) {\n        client._logger.error('Session delivery failed, max retries exceeded', err);\n\n        return;\n      }\n\n      client._logger.debug('Session delivery failed, retry #' + (backoff.attempts + 1) + '/' + maxAttempts, err);\n\n      setTimeout(function () {\n        return req(handleRes);\n      }, backoff.duration());\n    }\n\n    function req(cb) {\n      var payload = {\n        notifier: client._notifier,\n        device: {},\n        app: {\n          releaseStage: client._config.releaseStage,\n          version: client._config.appVersion,\n          type: client._config.appType\n        },\n        sessionCounts: sessionCounts\n      };\n      var ignore = _$syncCallbackRunner_24(client._cbs.sp, payload, 'onSessionPayload', client._logger);\n\n      if (ignore) {\n        client._logger.debug('Session not sent due to onSessionPayload callback');\n\n        return cb(null);\n      }\n\n      client._delivery.sendSession(payload, cb);\n    }\n  };\n};\n\nvar _$pathNormaliser_48 = {\n  load: function (client) {\n    client.addOnError(function (event) {\n      var allFrames = event.errors.reduce(function (accum, er) {\n        return accum.concat(er.stacktrace);\n      }, []);\n      allFrames.forEach(function (stackframe) {\n        if (typeof stackframe.file !== 'string') {\n          return;\n        }\n\n        stackframe.file = stackframe.file.replace(/\\\\/g, '/');\n      });\n    });\n  }\n};\n\n/* removed: var _$pathNormalizer_23 = require('@bugsnag/core/lib/path-normalizer'); */;\n\nvar _$stripProjectRoot_49 = {\n  load: function (client) {\n    return client.addOnError(function (event) {\n      if (!client._config.projectRoot) return;\n      var projectRoot = _$pathNormalizer_23(client._config.projectRoot);\n      var allFrames = event.errors.reduce(function (accum, er) {\n        return accum.concat(er.stacktrace);\n      }, []);\n      allFrames.map(function (stackframe) {\n        if (typeof stackframe.file === 'string' && stackframe.file.indexOf(projectRoot) === 0) {\n          stackframe.file = stackframe.file.replace(projectRoot, '');\n        }\n      });\n    });\n  }\n};\n\nvar _$notifier_36 = {};\nfunction ___extends_36() { ___extends_36 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return ___extends_36.apply(this, arguments); }\n\nvar name = 'Bugsnag Node';\nvar version = '7.18.0';\nvar url = 'https://github.com/bugsnag/bugsnag-js';\n\n/* removed: var _$Client_2 = require('@bugsnag/core/client'); */;\n\n/* removed: var _$Event_4 = require('@bugsnag/core/event'); */;\n\n/* removed: var _$Session_32 = require('@bugsnag/core/session'); */;\n\n/* removed: var _$Breadcrumb_1 = require('@bugsnag/core/breadcrumb'); */;\n\n_$Event_4.__type = 'nodejs';\n\n/* removed: var _$delivery_33 = require('@bugsnag/delivery-node'); */; // extend the base config schema with some node-specific options\n\n\nvar __schema_36 = ___extends_36({}, _$config_3.schema, _$config_35); // remove enabledBreadcrumbTypes from the config schema\n\n\ndelete __schema_36.enabledBreadcrumbTypes;\n\n/* removed: var _$app_37 = require('@bugsnag/plugin-app-duration'); */;\n\n/* removed: var _$surroundingCode_42 = require('@bugsnag/plugin-node-surrounding-code'); */;\n\n/* removed: var _$inProject_41 = require('@bugsnag/plugin-node-in-project'); */;\n\n/* removed: var _$stripProjectRoot_49 = require('@bugsnag/plugin-strip-project-root'); */;\n\n/* removed: var _$session_46 = require('@bugsnag/plugin-server-session'); */;\n\n/* removed: var _$device_40 = require('@bugsnag/plugin-node-device'); */;\n\n/* removed: var _$uncaughtException_43 = require('@bugsnag/plugin-node-uncaught-exception'); */;\n\n/* removed: var _$unhandledRejection_44 = require('@bugsnag/plugin-node-unhandled-rejection'); */;\n\n/* removed: var _$intercept_39 = require('@bugsnag/plugin-intercept'); */;\n\n/* removed: var _$contextualize_38 = require('@bugsnag/plugin-contextualize'); */;\n\n/* removed: var _$pathNormaliser_48 = require('@bugsnag/plugin-stackframe-path-normaliser'); */;\n\nvar internalPlugins = [_$app_37, _$surroundingCode_42, _$inProject_41, _$stripProjectRoot_49, _$session_46, _$device_40, _$uncaughtException_43, _$unhandledRejection_44, _$intercept_39, _$contextualize_38, _$pathNormaliser_48];\nvar Bugsnag = {\n  _client: null,\n  createClient: function (opts) {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = {\n      apiKey: opts\n    };\n    if (!opts) opts = {};\n    var bugsnag = new _$Client_2(opts, __schema_36, internalPlugins, {\n      name: name,\n      version: version,\n      url: url\n    });\n\n    bugsnag._setDelivery(_$delivery_33);\n\n    bugsnag._logger.debug('Loaded!');\n\n    bugsnag.leaveBreadcrumb = function () {\n      bugsnag._logger.warn('Breadcrumbs are not supported in Node.js yet');\n    };\n\n    bugsnag._config.enabledBreadcrumbTypes = [];\n    return bugsnag;\n  },\n  start: function (opts) {\n    if (Bugsnag._client) {\n      Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.');\n\n      return Bugsnag._client;\n    }\n\n    Bugsnag._client = Bugsnag.createClient(opts);\n    return Bugsnag._client;\n  },\n  isStarted: function () {\n    return Bugsnag._client != null;\n  }\n};\nObject.keys(_$Client_2.prototype).forEach(function (m) {\n  if (/^_/.test(m)) return;\n\n  Bugsnag[m] = function () {\n    if (!Bugsnag._client) return console.error(\"Bugsnag.\" + m + \"() was called before Bugsnag.start()\");\n    Bugsnag._client._depth += 1;\n\n    var ret = Bugsnag._client[m].apply(Bugsnag._client, arguments);\n\n    Bugsnag._client._depth -= 1;\n    return ret;\n  };\n});\n_$notifier_36 = Bugsnag;\n_$notifier_36.Client = _$Client_2;\n_$notifier_36.Event = _$Event_4;\n_$notifier_36.Session = _$Session_32;\n_$notifier_36.Breadcrumb = _$Breadcrumb_1; // Export a \"default\" property for compatibility with ESM imports\n\n_$notifier_36[\"default\"] = Bugsnag;\n\nreturn _$notifier_36;\n\n});\n//# sourceMappingURL=bugsnag.js.map\n","// Copyright (C) 2011-2015 John Hewson\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\nvar stream = require('stream'),\n    util = require('util'),\n    timers = require('timers');\n\n// convinience API\nmodule.exports = function(readStream, options) {\n  return module.exports.createStream(readStream, options);\n};\n\n// basic API\nmodule.exports.createStream = function(readStream, options) {\n  if (readStream) {\n    return createLineStream(readStream, options);\n  } else {\n    return new LineStream(options);\n  }\n};\n\n// deprecated API\nmodule.exports.createLineStream = function(readStream) {\n  console.log('WARNING: byline#createLineStream is deprecated and will be removed soon');\n  return createLineStream(readStream);\n};\n\nfunction createLineStream(readStream, options) {\n  if (!readStream) {\n    throw new Error('expected readStream');\n  }\n  if (!readStream.readable) {\n    throw new Error('readStream must be readable');\n  }\n  var ls = new LineStream(options);\n  readStream.pipe(ls);\n  return ls;\n}\n\n//\n// using the new node v0.10 \"streams2\" API\n//\n\nmodule.exports.LineStream = LineStream;\n\nfunction LineStream(options) {\n  stream.Transform.call(this, options);\n  options = options || {};\n\n  // use objectMode to stop the output from being buffered\n  // which re-concatanates the lines, just without newlines.\n  this._readableState.objectMode = true;\n  this._lineBuffer = [];\n  this._keepEmptyLines = options.keepEmptyLines || false;\n  this._lastChunkEndedWithCR = false;\n\n  // take the source's encoding if we don't have one\n  var self = this;\n  this.on('pipe', function(src) {\n    if (!self.encoding) {\n      // but we can't do this for old-style streams\n      if (src instanceof stream.Readable) {\n        self.encoding = src._readableState.encoding;\n      }\n    }\n  });\n}\nutil.inherits(LineStream, stream.Transform);\n\nLineStream.prototype._transform = function(chunk, encoding, done) {\n  // decode binary chunks as UTF-8\n  encoding = encoding || 'utf8';\n  \n  if (Buffer.isBuffer(chunk)) {\n    if (encoding == 'buffer') {\n      chunk = chunk.toString(); // utf8\n      encoding = 'utf8';\n    }\n    else {\n     chunk = chunk.toString(encoding);\n    }\n  }\n  this._chunkEncoding = encoding;\n  \n  // see: http://www.unicode.org/reports/tr18/#Line_Boundaries\n  var lines = chunk.split(/\\r\\n|[\\n\\v\\f\\r\\x85\\u2028\\u2029]/g);\n  \n  // don't split CRLF which spans chunks\n  if (this._lastChunkEndedWithCR && chunk[0] == '\\n') {\n    lines.shift();\n  }\n  \n  if (this._lineBuffer.length > 0) {\n    this._lineBuffer[this._lineBuffer.length - 1] += lines[0];\n    lines.shift();\n  }\n\n  this._lastChunkEndedWithCR = chunk[chunk.length - 1] == '\\r';\n  this._lineBuffer = this._lineBuffer.concat(lines);\n  this._pushBuffer(encoding, 1, done);\n};\n\nLineStream.prototype._pushBuffer = function(encoding, keep, done) {\n  // always buffer the last (possibly partial) line\n  while (this._lineBuffer.length > keep) {\n    var line = this._lineBuffer.shift();\n    // skip empty lines\n    if (this._keepEmptyLines || line.length > 0 ) {\n      if (!this.push(this._reencode(line, encoding))) {\n        // when the high-water mark is reached, defer pushes until the next tick\n        var self = this;\n        timers.setImmediate(function() {\n          self._pushBuffer(encoding, keep, done);\n        });\n        return;\n      }\n    }\n  }\n  done();\n};\n\nLineStream.prototype._flush = function(done) {\n  this._pushBuffer(this._chunkEncoding, 0, done);\n};\n\n// see Readable::push\nLineStream.prototype._reencode = function(line, chunkEncoding) {\n  if (this.encoding && this.encoding != chunkEncoding) {\n    return new Buffer(line, chunkEncoding).toString(this.encoding);\n  }\n  else if (this.encoding) {\n    // this should be the most common case, i.e. we're using an encoded source stream\n    return line;\n  }\n  else {\n    return new Buffer(line, chunkEncoding);\n  }\n};\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","module.exports = require(\"@aws-sdk/client-cloudwatch-logs\");","module.exports = require(\"aws-sdk\");","module.exports = require(\"events\");","module.exports = require(\"once\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"domain\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"timers\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(254);\n"],"names":["start","apiKey","process","env","BUGSNAG_API_KEY","handler","event","send","message","constructor","GROUP_NAME","AWS_LAMBDA_LOG_GROUP_NAME","STREAM_NAME","AWS_LAMBDA_LOG_STREAM_NAME","this","AWS","client","CloudWatchLogsClient","region","AWS_REGION","setCredentials","config","getCredentials","error","stack","describeLogStreams","DescribeLogStreamsCommand","logGroupName","createLogStream","CreateLogStreamCommand","logStreamName","setLogStream","currentLogStreams","logStreams","filter","logStream","length","Promise","resolve","putLogEvents","events","PutLogEventsCommand","logEvents","output","statusCode","body","JSON","stringify","timestamp","Date","now","module","exports","_$Breadcrumb_1","Breadcrumb","metadata","type","prototype","toJSON","name","metaData","_$breadcrumbTypes_6","_$reduce_16","arr","fn","accum","val","i","len","_$filter_11","item","concat","_$includes_12","x","_$isArray_13","obj","Object","toString","call","_hasDontEnumBug","propertyIsEnumerable","_dontEnums","_$keys_14","prop","result","hasOwnProperty","push","_$intRange_25","min","max","Infinity","value","parseInt","_$listOfFunctions_26","f","_$stringWithLength_27","_$config_3","schema","defaultValue","validate","appVersion","undefined","appType","autoDetectErrors","enabledErrorTypes","unhandledExceptions","unhandledRejections","allowPartialObject","providedKeys","defaultKeys","k","onError","onSession","onBreadcrumb","endpoints","notify","sessions","autoTrackSessions","enabledReleaseStages","releaseStage","maxBreadcrumbs","enabledBreadcrumbTypes","join","maybeType","context","user","key","logger","method","redactedKeys","s","test","plugins","p","load","featureFlags","feature","_$errorStackParser_9","_$assign_10","target","arguments","source","_$map_15","_$safeJsonStringify_31","data","replacer","space","opts","redactedPaths","seen","edges","visit","path","edgesExceeded","REPLACEMENT_NODE","haystack","needle","find","fResult","pop","err","throwsMessage","o","Error","eResult","__isArray_31","aResult","isDescendent","shouldRedact","safelyGetProp","e","prepareObjForSerialization","paths","indexOf","patterns","toLowerCase","add","existingFeatures","existingFeatureKeys","variant","existingIndex","_$featureFlagDelegate_17","clear","features","featuresIndex","merge","newFeatures","toEventApi","Boolean","_ref","flag","featureFlag","_$hasStack_18","stacktrace","_$iserror_19","__clear_21","state","section","_$metadataDelegate_21","keyOrObj","maybeVal","_updates","updates","get","StackGenerator","Event","errorClass","errorMessage","handledState","originalError","defaultHandledState","groupingHash","_handledState","severity","unhandled","app","device","request","breadcrumbs","threads","_metadata","_features","_featuresIndex","_user","_session","errors","createBugsnagError","__type","_proto","addMetadata","getMetadata","clearMetadata","addFeatureFlag","addFeatureFlags","getFeatureFlags","clearFeatureFlag","clearFeatureFlags","getUser","setUser","id","email","payloadVersion","exceptions","er","severityReason","session","normaliseFunctionName","ensureString","str","frame","file","fileName","functionName","lineNumber","columnNumber","code","inProject","formatStackframe","getCauseStack","cause","getStacktrace","errorFramesToSkip","backtraceFramesToSkip","parse","slice","backtrace","create","maybeError","tolerateNonErrors","component","_normaliseError","normaliseError","internalFrames","makeSerialisable","_event$errors","causes","normalisedCauses","apply","createAndLogInputError","reason","verb","warn","String","hasNecessaryFields","_$Event_4","_$syncCallbackRunner_24","callbacks","callbackArg","callbackType","ignore","cbs","_$pad_30","num","size","substr","os","pid","hostname","hostId","split","reduce","prev","char","charCodeAt","_$fingerprint_29","c","discreteValues","Math","pow","randomBlock","random","cuid","getTime","fingerprint","_$cuid_28","_$Session_32","Session","startedAt","_handled","_unhandled","handled","_track","__add_2","__clear_2","__merge_2","noop","Client","configuration","internalPlugins","notifier","_this","_notifier","_config","_schema","_delivery","sendSession","sendEvent","_logger","debug","info","_plugins","_breadcrumbs","_context","_cbs","sp","b","_configure","pl","_loadPlugin","_depth","self","getContext","setContext","plugin","configSchema","_reduce","generateConfigErrorMessage","getPlugin","_setDelivery","d","startSession","version","_sessionDelegate","addOnError","front","removeOnError","_addOnSessionPayload","addOnSession","removeOnSession","addOnBreadcrumb","removeOnBreadcrumb","pauseSession","resumeSession","leaveBreadcrumb","crumb","_isBreadcrumbTypeEnabled","types","postReportCallback","_notify","_this2","originalSeverity","onCallbackError","cb","index","next","_$asyncEvery_5","ret","then","setTimeout","_$callbackRunner_7","shouldSend","unhandledOverridden","rawInput","_$Client_2","_$jsonPayload_20","EVENT_REDACTION_PATHS","payload","http","https","_$request_34","url","headers","agent","didError","parsedUrl","req","protocol","port","on","res","bufferResponse","write","end","stream","setEncoding","_$delivery_33","_cb","toFixed","toISOString","_extends","assign","__os_35","inspect","_$config_35","projectRoot","cwd","getPrefixedConsole","isAgent","onUncaughtException","printError","exit","onUnhandledRejection","consoleMethod","console","log","bind","keys","httpMethod","appStart","reset","_$app_37","duration","_$nodeFallbackStack_22","fallbackStack","lines","_$contextualize_38","domain","getStack","maybeUseFallbackStack","dom","nextTick","run","_$intercept_39","__getStack_39","__maybeUseFallbackStack_39","___extends_40","_len","Array","_key","__os_40","_$device_40","osName","platform","arch","osVersion","release","totalMemory","totalmem","runtimeVersions","node","versions","freeMemory","freemem","time","___require_23","_$pathNormalizer_23","_$inProject_41","map","stackframe","___extends_42","_setPrototypeOf","setPrototypeOf","__proto__","_handler","___handler_44","createReadStream","Writable","pump","byline","_$surroundingCode_42","sendCode","reject","cache","allFrames","pMapSeries","cacheKey","getSurroundingCode","loadSurroundingCode","reader","encoding","splitter","LineStream","keepEmptyLines","slicer","CodeRange","destroy","getCode","_Writable","decodeStrings","_start","_end","_n","_code","subClass","superClass","_write","chunk","enc","emit","ps","r","_$uncaughtException_43","removeListener","_$unhandledRejection_44","prependListener","_$cloneClient_8","onCloneCallbacks","clone","forEach","callback","registerCallback","_$Backoff_45","Backoff","ms","factor","jitter","attempts","___setPrototypeOf_47","rand","deviation","floor","_$tracker_47","_Emitter","SessionTracker","intervalLength","_sessions","Map","_interval","_intervalLength","_summarize","ReferenceError","_assertThisInitialized","setInterval","unref","stop","clearInterval","track","dateToMsKey","cur","set","summary","sessionsStarted","dk","setSeconds","setMilliseconds","_$session_46","sessionTracker","sessionSummaryInterval","sendSessionSummary","sessionClient","_pausedSession","sessionCounts","includes","backoff","maxAttempts","handleRes","sessionCount","_$stripProjectRoot_49","replace","_$notifier_36","___extends_36","__schema_36","Bugsnag","_client","createClient","bugsnag","isStarted","m","util","timers","createLineStream","readStream","options","readable","ls","pipe","Transform","_readableState","objectMode","_lineBuffer","_keepEmptyLines","_lastChunkEndedWithCR","src","Readable","createStream","inherits","_transform","done","Buffer","isBuffer","_chunkEncoding","shift","_pushBuffer","keep","line","_reencode","setImmediate","_flush","chunkEncoding","once","eos","ws","_writableState","rs","writable","cancelled","onlegacyfinish","onfinish","onend","onexit","exitCode","onerror","onclose","onclosenexttick","ended","destroyed","onrequest","setHeader","abort","isRequest","stdio","isArray","isChildProcess","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parseOpera","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","parts","exec","sanitizedLine","location","locationParts","functionNameRegex","matches","parseOpera9","parseOpera11","parseOpera10","lineRE","argsRaw","tokens","functionCall","args","fs","ancient","isFn","destroyer","reading","writing","closed","ReadStream","WriteStream","close","isFS","from","to","streams","destroys","maxStackSize","curr","callee","RegExp","$1","caller","_capitalize","charAt","toUpperCase","substring","_getter","booleanProps","numericProps","stringProps","props","getArgs","setArgs","v","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","j","n","isNaN","parseFloat","isFinite","Number","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}